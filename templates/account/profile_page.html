{% extends 'main.html' %}
{% load crispy_forms_filters %}
{% load static %}
{% block content %}

{% include 'includes/navbar.html' %}


<!-- breadcrumb area start -->
<div class="breadcrumb-area mb-70">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumb-wrap">
                    <nav aria-label="breadcrumb">
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">My Account</li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- breadcrumb area end -->

<!-- Start of My Account Wrapper -->
<div class="my-account-wrapper pb-20">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                <main id="primary" class="site-main">
                    <div class="user-dashboard pb-50">
                        <div class="user-info mb-30">
                            <div class="row align-items-center no-gutters">
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3">
                                    <div class="single-info">
                                        <p class="user-name">Hello
                                            <span>{% if user.is_authenticated %}{{ request.user.first_name }}{% else %}Anonymous{% endif %}</span>
                                            <br>{% if user.is_authenticated %}{{ request.user.first_name }}{% else %}Anonymous{% endif %}?</span> <a
                                                    class="log-out" href="login.html">Log Out</a></p>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3">
                                    <div class="single-info">
                                        <p>Need Assistance? Customer service at <a href="#">admin@example.com</a>
                                        </p>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3">
                                    <div class="single-info">
                                        <p>E-mail them at <a href="#">support@example.com</a></p>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-2 col-xl-3">
                                    <div class="single-info justify-content-lg-center">
                                        <a class="btn btn-secondary" href="cart.html">View Cart</a>
                                    </div>
                                </div>
                            </div> <!-- end of row -->
                        </div> <!-- end of user-info -->

                        <div class="main-dashboard">
                            <div class="row">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-2">
                                    <ul class="nav flex-column dashboard-list" role="tablist">
                                        <!--<li><a class="nav-link active" data-toggle="tab"
                                               href="#dashboard">Dashboard</a></li>-->
                                        <li><a class="nav-link" data-toggle="tab" href="#orders">Orders</a></li>
                                        <!--<li><a class="nav-link" data-toggle="tab" href="#downloads">Downloads</a>
                                        </li>-->
                                        <li><a class="nav-link" data-toggle="tab" href="#address">Addresses</a></li>
                                        <li><a class="nav-link" data-toggle="tab" href="#account-details">Account
                                            details</a></li>
                                        <li><a class="nav-link" href="login.html">logout</a></li>
                                    </ul> <!-- end of dashboard-list -->
                                </div>

                                <div class="col-12 col-sm-12 col-md-12 col-lg-10">
                                    <!-- Tab panes -->
                                    <div class="tab-content dashboard-content">
                                        <div id="dashboard" class="tab-pane fade show active">
                                            <h3>Dashboard </h3>
                                            <p>From your account dashboard. you can easily check &amp; view your <a
                                                    href="#">recent orders</a>, manage your <a href="#">shipping and
                                                billing addresses</a> and <a href="#">edit your password and account
                                                details.</a></p>
                                        </div> <!-- end of tab-pane -->

                                        <div id="orders" class="tab-pane fade">
                                            <h3>Orders</h3>
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th>Order Id</th>
                                                        <th>Item</th>
                                                        <th>Order Date</th>
                                                        <th>Delivery Date</th>
                                                        <th>Total</th>
                                                        <th>Status</th>
                                                        <th>Action</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>

                                                    {% for order in order_items %}
                                                    <tr>
                                                        <td>{{ order.id }}</td>
                                                        <td>
                                                            {% for item in order.order_items.all %}
                                                            {{ item }}
                                                            {% endfor %}
                                                        </td>
                                                        <td>{{ order.created_at }}</td>
                                                        <td>{{ order.delivery_date }}</td>
                                                        <td>{{ order.get_total_price }}</td>
                                                        <td>
                                                            {% if order.payment_id %}
                                                            Paid
                                                            {% else %}
                                                            Not Paid
                                                            {% endif %}
                                                        </td>
                                                        <td><a class="btn btn-secondary"
                                                               href="cart.html">view</a>
                                                        </td>
                                                    </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div> <!-- end of tab-pane -->

                                        <div id="downloads" class="tab-pane fade">
                                            <h3>Downloads</h3>
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th>Product</th>
                                                        <th>Downloads</th>
                                                        <th>Expires</th>
                                                        <th>Download</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td>Volga - Ecommerce Bootstrap Template</td>
                                                        <td>August 10, 2019</td>
                                                        <td>Never</td>
                                                        <td><a class="btn btn-secondary" href="#">Download File</a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Gatcomart - Ecommerce HTML Template</td>
                                                        <td>September 11, 2019</td>
                                                        <td>Never</td>
                                                        <td><a class="btn btn-secondary" href="#">Download File</a>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div> <!-- end of tab-pane -->

                                        <div id="address" class="tab-pane">
                                            <p>The following addresses will be used on the checkout page by
                                                default.</p>
                                            <h4 class="billing-address">Billing address</h4>
                                            <a class="btn btn-secondary my-4" href="#">edit</a>
                                            <p>HasTech</p>
<!--                                            <p>Bangladesh</p>-->
                                        </div> <!-- end of tab-pane -->

                                        <div id="account-details" class="tab-pane fade">
                                            <h3>Account details </h3>
                                            <div class="login-form">
                                                <form method="POST">
                                                    {% csrf_token %}
<!--                                                    {{ form|crispy }}-->
                                                    {% for field in user_form %}
                                                    <div class="form-group row">
                                                        <label for="{{ field.label }}"
                                                               class="col-12 col-sm-12 col-md-4 col-lg-3 col-form-label">{{ field.label_tag }}</label>
                                                        <div class="col-12 col-sm-12 col-md-8 col-lg-6">
                                                            {{ field }}
                                                            {% if field.label == "Password" %}

                                                            <button class="pass-show-btn" type="button"
                                                                    id="eye">Show
                                                            </button>
                                                            {% elif field.label == "Confirm password" %}
                                                            <button class="pass-show-btn" type="button">
                                                                Show
                                                            </button>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    {% endfor %}
                                                    {% for field in form %}
                                                    <div class="form-group row">
                                                        <label for="{{ field.label }}"
                                                               class="col-12 col-sm-12 col-md-4 col-lg-3 col-form-label">{{ field.label_tag }}</label>
                                                        <div class="col-12 col-sm-12 col-md-8 col-lg-6">
                                                            {{ field }}
                                                        </div>
                                                    </div>
                                                    {% endfor %}
                                                    <div class="form-check row p-0 mt-5">
                                                        <div class="col-12 col-sm-12 col-md-8 offset-md-4 col-lg-6 offset-lg-3">
                                                            <div class="custom-checkbox">
                                                                <input class="form-check-input" type="checkbox"
                                                                       id="offer">
                                                                <span class="checkmark"></span>
                                                                <label class="form-check-label" for="offer">Receive
                                                                    offers from our partners</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-check row p-0 mt-4">
                                                        <div class="col-12 col-sm-12 col-md-8 offset-md-4 col-lg-6 offset-lg-3">
                                                            <div class="custom-checkbox">
                                                                <input class="form-check-input" type="checkbox"
                                                                       id="subscribe" required>
                                                                <span class="checkmark"></span>
                                                                <label class="form-check-label" for="subscribe">Sign
                                                                    up for our newsletter<br>Subscribe to our
                                                                    newsletters now and stay up-to-date with new
                                                                    collections, the latest lookbooks and
                                                                    exclusive
                                                                    offers..</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="register-box d-flex justify-content-end mt-half">
                                                        <button type="submit" class="btn btn-secondary">Save
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div> <!-- end of tab-pane -->
                                    </div>
                                </div>
                            </div> <!-- end of row -->
                        </div> <!-- end of main-dashboard -->
                    </div> <!-- end of user-dashboard -->
                </main> <!-- end of #primary -->
            </div>
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</div>
<!-- End of My Account Wrapper -->

{% include 'includes/footer.html' %}

{% endblock %}